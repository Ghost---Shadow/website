<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 884.1041259765625 774" style="max-width: 100%;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");'</style><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graph-div .error-icon{fill:#552222;}#graph-div .error-text{fill:#552222;stroke:#552222;}#graph-div .edge-thickness-normal{stroke-width:2px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#333333;stroke:#333333;}#graph-div .marker.cross{stroke:#333333;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-div .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-div .cluster-label text{fill:#333;}#graph-div .cluster-label span,#graph-div p{color:#333;}#graph-div .label text,#graph-div span,#graph-div p{fill:#333;color:#333;}#graph-div .node rect,#graph-div .node circle,#graph-div .node ellipse,#graph-div .node polygon,#graph-div .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-div .flowchart-label text{text-anchor:middle;}#graph-div .node .label{text-align:center;}#graph-div .node.clickable{cursor:pointer;}#graph-div .arrowheadPath{fill:#333333;}#graph-div .edgePath .path{stroke:#333333;stroke-width:2.0px;}#graph-div .flowchart-link{stroke:#333333;fill:none;}#graph-div .edgeLabel{background-color:#e8e8e8;text-align:center;}#graph-div .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#graph-div .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#graph-div .cluster text{fill:#333;}#graph-div .cluster span,#graph-div p{color:#333;}#graph-div div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#graph-div .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 12 20" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M513.1083030700684,32.8018092115016L470.8902505238851,40.00150767625133C428.67219797770184,47.20120614100106,344.23609288533527,61.60060307050053,302.01804033915204,74.96696820191694C259.79998779296875,88.33333333333333,259.79998779296875,100.66666666666667,259.79998779296875,106.83333333333333L259.79998779296875,113"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M259.79998779296875,152L259.79998779296875,158.16666666666666C259.79998779296875,164.33333333333334,259.79998779296875,176.66666666666666,259.79998779296875,189C259.79998779296875,201.33333333333334,259.79998779296875,213.66666666666666,259.79998779296875,219.83333333333334L259.79998779296875,226"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M259.79998779296875,265L259.79998779296875,269.1666666666667C259.79998779296875,273.3333333333333,259.79998779296875,281.6666666666667,295.0735969543457,291.4433250279817C330.34720611572266,301.2199833892968,400.89442443847656,312.43996677859354,436.1680335998535,318.04995847324193L471.44164276123047,323.6599501678903"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M575.154396327196,354L586.3981020316966,360.1666666666667C597.641807736197,366.3333333333333,620.1292191451981,378.6666666666667,631.3729248496987,391C642.6166305541992,403.3333333333333,642.6166305541992,415.6666666666667,642.6166305541992,421.8333333333333L642.6166305541992,428"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-A" id="L-D-A-0" d="M539.5999755859375,315L539.5999755859375,310.8333333333333C539.5999755859375,306.6666666666667,539.5999755859375,298.3333333333333,539.5999755859375,286.75C539.5999755859375,275.1666666666667,539.5999755859375,260.3333333333333,539.5999755859375,243.5C539.5999755859375,226.66666666666666,539.5999755859375,207.83333333333334,539.5999755859375,189C539.5999755859375,170.16666666666666,539.5999755859375,151.33333333333334,539.5999755859375,132.5C539.5999755859375,113.66666666666667,539.5999755859375,94.83333333333333,545.2218284381878,79.25C550.843681290438,63.666666666666664,562.0873869949386,51.333333333333336,567.7092398471888,45.166666666666664L573.3310926994391,39"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M471.86479271407677,354L450.4442647973345,360.1666666666667C429.0237368805922,366.3333333333333,386.1826810471077,378.6666666666667,364.76215313036533,394.25C343.34162521362305,409.8333333333333,343.34162521362305,428.6666666666667,343.34162521362305,445.5C343.34162521362305,462.3333333333333,343.34162521362305,477.1666666666667,343.34162521362305,492C343.34162521362305,506.8333333333333,343.34162521362305,521.6666666666666,343.34162521362305,536.5C343.34162521362305,551.3333333333334,343.34162521362305,566.1666666666666,343.34162521362305,581C343.34162521362305,595.8333333333334,343.34162521362305,610.6666666666666,343.34162521362305,627.5C343.34162521362305,644.3333333333334,343.34162521362305,663.1666666666666,395.4575996398926,681.4175427322754C447.5735740661621,699.6684187978841,551.8055229187012,717.3368375957684,603.9214973449707,726.1710469947105L656.0374717712402,735.0052563936526"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-A" id="L-D-A-1" d="M607.7583084106445,316.0283442931152L623.7652524312338,311.69028691092933C639.7721964518229,307.35222952874346,671.7860844930013,298.67611476437173,687.7930285135905,286.9213907155192C703.7999725341797,275.1666666666667,703.7999725341797,260.3333333333333,703.7999725341797,243.5C703.7999725341797,226.66666666666666,703.7999725341797,207.83333333333334,703.7999725341797,189C703.7999725341797,170.16666666666666,703.7999725341797,151.33333333333334,703.7999725341797,132.5C703.7999725341797,113.66666666666667,703.7999725341797,94.83333333333333,691.5002917962088,79.25C679.200611058238,63.666666666666664,654.6012495822963,51.333333333333336,642.3015688443255,45.166666666666664L630.0018881063546,39"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-G" id="L-E-G-0" d="M642.6166305541992,467L642.6166305541992,471.1666666666667C642.6166305541992,475.3333333333333,642.6166305541992,483.6666666666667,642.6166305541992,492C642.6166305541992,500.3333333333333,642.6166305541992,508.6666666666667,642.6166305541992,512.8333333333334L642.6166305541992,517"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M642.6166305541992,556L642.6166305541992,560.1666666666666C642.6166305541992,564.3333333333334,642.6166305541992,572.6666666666666,657.6756610870361,581.0767683427467C672.734691619873,589.4868700188267,702.8527526855469,597.9737400376536,717.9117832183838,602.2171750470669L732.9708137512207,606.4606100564803"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-F" id="L-H-F-0" d="M800.5374794006348,645L800.5374794006348,651.1666666666666C800.5374794006348,657.3333333333334,800.5374794006348,669.6666666666666,783.3263676961263,683.6828780720988C766.1152559916178,697.6990894775308,731.693032582601,713.3981789550618,714.4819208780924,721.2477236938272L697.270809173584,729.0972684325927"></path><path marker-end="url(#flowchart-pointEnd)" style="stroke:#2ecd71;stroke-width:2px;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-A" id="L-H-A-0" d="M806.3089649329024,606L807.5421883372331,601.8333333333334C808.7754117415639,597.6666666666666,811.2418585502252,589.3333333333334,812.475081954556,577.75C813.7083053588867,566.1666666666666,813.7083053588867,551.3333333333334,813.7083053588867,536.5C813.7083053588867,521.6666666666666,813.7083053588867,506.8333333333333,813.7083053588867,492C813.7083053588867,477.1666666666667,813.7083053588867,462.3333333333333,813.7083053588867,445.5C813.7083053588867,428.6666666666667,813.7083053588867,409.8333333333333,813.7083053588867,391C813.7083053588867,372.1666666666667,813.7083053588867,353.3333333333333,813.7083053588867,336.5C813.7083053588867,319.6666666666667,813.7083053588867,304.8333333333333,813.7083053588867,290C813.7083053588867,275.1666666666667,813.7083053588867,260.3333333333333,813.7083053588867,243.5C813.7083053588867,226.66666666666666,813.7083053588867,207.83333333333334,813.7083053588867,189C813.7083053588867,170.16666666666666,813.7083053588867,151.33333333333334,813.7083053588867,132.5C813.7083053588867,113.66666666666667,813.7083053588867,94.83333333333333,789.4127298878357,79.25C765.1171544167847,63.666666666666664,716.5260034746829,51.333333333333336,692.2304280036318,45.166666666666664L667.9348525325809,39"></path></g><g class="edgeLabels"><g transform="translate(259.79998779296875, 76)" class="edgeLabel"><g transform="translate(-259.79998779296875, -12)" class="label"><foreignObject height="24" width="519.5999755859375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Full message history, System prompt, Triggering prompt, Vector memory</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(642.6166305541992, 391)" class="edgeLabel"><g transform="translate(-54.008331298828125, -12)" class="label"><foreignObject height="24" width="108.01666259765625"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Approve action</span></div></foreignObject></g></g><g transform="translate(539.5999755859375, 189)" class="edgeLabel"><g transform="translate(-54.291664123535156, -12)" class="label"><foreignObject height="24" width="108.58332824707031"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Provide a critic</span></div></foreignObject></g></g><g transform="translate(343.34162521362305, 536.5)" class="edgeLabel"><g transform="translate(-76.67500305175781, -12)" class="label"><foreignObject height="24" width="153.35000610351562"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Reject and terminate</span></div></foreignObject></g></g><g transform="translate(703.7999725341797, 189)" class="edgeLabel"><g transform="translate(-89.90833282470703, -12)" class="label"><foreignObject height="24" width="179.81666564941406"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Prompt to do a self critic</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(800.5374794006348, 682)" class="edgeLabel"><g transform="translate(-13.75, -12)" class="label"><foreignObject height="24" width="27.5"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Exit</span></div></foreignObject></g></g><g transform="translate(813.7083053588867, 334.5)" class="edgeLabel"><g transform="translate(-32.025001525878906, -12)" class="label"><foreignObject height="24" width="64.05000305175781"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Continue</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(591.1083030700684, 19.5)" id="flowchart-A-226" class="node default default flowchart-label"><rect height="39" width="156" y="-19.5" x="-78" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-70.5, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="141"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">1. Call ChatGPT API</span></div></foreignObject></g></g><g transform="translate(259.79998779296875, 132.5)" id="flowchart-B-227" class="node default default flowchart-label"><rect height="39" width="210.1999969482422" y="-19.5" x="-105.0999984741211" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-97.5999984741211, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="195.1999969482422"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">2. ChatGPT replies as JSON</span></div></foreignObject></g></g><g transform="translate(259.79998779296875, 245.5)" id="flowchart-C-229" class="node default default flowchart-label"><rect height="39" width="201.0833282470703" y="-19.5" x="-100.54166412353516" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-93.04166412353516, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="186.0833282470703"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">3. Print the plan of action</span></div></foreignObject></g></g><g transform="translate(539.5999755859375, 334.5)" id="flowchart-D-231" class="node default default flowchart-label"><rect height="39" width="136.31666564941406" y="-19.5" x="-68.15833282470703" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-60.65833282470703, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="121.31666564941406"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">4. User feedback</span></div></foreignObject></g></g><g transform="translate(642.6166305541992, 447.5)" id="flowchart-E-233" class="node default default flowchart-label"><rect height="39" width="165.10000610351562" y="-19.5" x="-82.55000305175781" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.05000305175781, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="150.10000610351562"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">6. Execute command</span></div></foreignObject></g></g><g transform="translate(676.6541404724121, 738.5)" id="flowchart-F-237" class="node default default flowchart-label"><rect height="39" width="41.23333740234375" y="-19.5" x="-20.616668701171875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-13.116668701171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="26.23333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">End</span></div></foreignObject></g></g><g transform="translate(642.6166305541992, 536.5)" id="flowchart-G-241" class="node default default flowchart-label"><rect height="39" width="272.183349609375" y="-19.5" x="-136.0916748046875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-128.5916748046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="257.183349609375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">7. Append result to message history</span></div></foreignObject></g></g><g transform="translate(800.5374794006348, 625.5)" id="flowchart-H-243" class="node default default flowchart-label"><rect height="39" width="135.13333129882812" y="-19.5" x="-67.56666564941406" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-60.06666564941406, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.13333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">8. Check for exit</span></div></foreignObject></g></g></g></g></g></svg>